import fs from"fs";import wav from"node-wav";import ffmpeg from"fluent-ffmpeg";import ffmpegStatic from"ffmpeg-static";const filePath="./tmp/audio.mp4",outputPath="./tmp/audio.mp4".replace(".mp4",".wav");export const convert=()=>new Promise((a,b)=>{console.log("Convertendo o v\xEDdeo..."),ffmpeg.setFfmpegPath(ffmpegStatic),ffmpeg().input(filePath).audioFrequency(16e3).audioChannels(1).format("wav").on("end",()=>{const b=fs.readFileSync(outputPath),c=wav.decode(b),d=c.channelData[0],e=new Float32Array(d);console.log("V\xEDdeo convertido com sucesso!"),a(e),fs.unlinkSync(outputPath)}).on("error",a=>{console.log("Erro ao converter o v\xEDdeo",a),b(a)}).save(outputPath)});